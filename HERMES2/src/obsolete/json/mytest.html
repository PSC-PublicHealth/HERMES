<html>

<head>
<meta name="pygwt:module" content="mytest">
<script type="text/javascript" src="http://www.google.com/jsapi"></script>
<script type="text/javascript">
google.load('visualization', '1',  {packages: ['piechart','imagechart']});
//google.setOnLoadCallback(drawChart);
google.setOnLoadCallback(markReady);

function drawChart() {
	//alert('in drawChart');
	/*
	var data = new google.visualization.DataTable();
	data.addColumn('string', 'Task');
	data.addColumn('number', 'Hours per Day');
	data.addRows(5);
	data.setValue(0, 0, 'Work');
	data.setValue(0, 1, 11);
	data.setValue(1, 0, 'Eat');
	data.setValue(1, 1, 2);
	data.setValue(2, 0, 'Commute');
	data.setValue(2, 1, 2);
	data.setValue(3, 0, 'Watch TV');
	data.setValue(3, 1, 2);
	data.setValue(4, 0, 'Sleep');
	data.setValue(4, 1, 7);
	*/
	var data = new google.visualization.DataTable({
  cols: [{label: 'Task', type: 'string'},
         {label: 'Hours per Day', type: 'number'}
        ],
  rows: [{c:[{v: 'Work'}, {v: 11}]},
         {c:[{v: 'Eat'}, {v: 2}]},
         {c:[{v: 'Commute'}, {v: 2}]},
         {c:[{v: 'Watch TV'}, {v: 2}]},
         {c:[{v: 'Sleep'}, {v: 7}]}
        ]
},0.6);
	
	
	__chart__ = new google.visualization.PieChart(__chart_div__);
	__chart__.draw(data, {width: 450, height: 300, title: 'My Daily Activities'});
	
	//alert('beyond chart.draw');
}

function markReady() {
    __googleReady__= true;
    __chart_div__= document.getElementById('chart_div');
    drawChart();
    //alert('markReady executed');
}

var __googleReady__= false;
var __chart_div__;
var __chart__;

//alert('load was called');
</script>
<title>PyJamas Auto-Generated HTML file mytest</title>
<link rel='stylesheet' href='mytest.css'>
</head>
<body bgcolor="white">
<script language="javascript" src="bootstrap.js"></script>
<div id="chart_div"></div>
<iframe id='__pygwt_historyFrame' style='width:0;height:0;border:0'></iframe>
</body>
</html>
